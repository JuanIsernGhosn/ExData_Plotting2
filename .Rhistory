scale_x_date(breaks='1 year')
# Plotting
ggplot(sum_data, aes(fill=type,x=as.Date(as.character(year), "%Y"),y=Emissions)) +
geom_bar(position="dodge", stat="identity") +
labs(x = "Year", y = "Emissions (Ton)", title = "Baltimore City total PM2.5 emission by source") +
scale_x_date(breaks="1 year")
# Plotting
ggplot(sum_data, aes(fill=type,x=as.Date(as.character(year), "%Y"),y=Emissions)) +
geom_bar(position="dodge", stat="identity") +
labs(x = "Year", y = "Emissions (Ton)", title = "Baltimore City total PM2.5 emission by source") +
scale_x_date(date_breaks = "1 year")
# Plotting
ggplot(sum_data, aes(fill=type,x=as.Date(as.character(year), "%Y"),y=Emissions)) +
geom_bar(position="dodge", stat="identity") +
labs(x = "Year", y = "Emissions (Ton)", title = "Baltimore City total PM2.5 emission by source") +
scale_x_date(date_breaks = "3 year")
# Plotting
ggplot(sum_data, aes(fill=type,x=as.character(year), "%Y"),y=Emissions)) +
geom_bar(position="dodge", stat="identity") +
labs(x = "Year", y = "Emissions (Ton)", title = "Baltimore City total PM2.5 emission by source")
# Plotting
ggplot(sum_data, aes(fill=type,x=as.character(year),y=Emissions)) +
geom_bar(position="dodge", stat="identity") +
labs(x = "Year", y = "Emissions (Ton)", title = "Baltimore City total PM2.5 emission by source")
head(NEI)
View(SCC)
"coal" %in% SCC$SCC.Level.Four
"SCC$SCC.Level.Four
""
"
SCC$SCC.Level.Four
grepl(SCC, "coal")
?grepl
grepl("coal",SCC)
grepl("coal",SCC$SCC.Level.Four)
sum(grepl("coal",SCC$SCC.Level.Four))
sum(grepl("coal",SCC$SCC.Level.Four, fixed = TRUE))
sum(grepl("^coal",SCC$SCC.Level.Four))
sum(grepl("^coal",SCC$SCC.Level.Four,ignore.case = TRUE))
sum(grepl("coal",SCC$SCC.Level.Four,ignore.case = TRUE))
?filter
sum_data <- SCC %>% filter(!grepl("coal",SCC.Level.Four,ignore.case = TRUE) & grepl("combustion",SCC.Level.One,ignore.case = TRUE))
View(sum_data)
sum_data <- SCC %>% filter(!grepl("coal",SCC.Level.Four,ignore.case = TRUE) & !grepl("combustion",SCC.Level.One,ignore.case = TRUE))
sum_data <- SCC %>% filter(!grepl("coal",SCC.Level.r,ignore.case = TRUE) & !grepl("combustion",SCC.Level.One,ignore.case = TRUE))
sum_data <- SCC %>% filter(!grepl("combustion",SCC.Level.One,ignore.case = TRUE))
sum_data <- SCC %>% filter(!grepl("combustion",SCC.Level.One,ignore.case = TRUE))
!grepl("combustion",SCC.Level.One,ignore.case = TRUE)
!grepl("combustion",SCC$SCC.Level.One,ignore.case = TRUE)
!grepl("combustion",SCC.Level.One,ignore.case = TRUE)
grepl("combustion",SCC.Level.One,ignore.case = TRUE)
grepl("combustion",SCC$SCC.Level.One,ignore.case = TRUE)
sum(grepl("combustion",SCC$SCC.Level.One,ignore.case = TRUE))
sum_data <- SCC %>% filter(grepl("coal",SCC.Level.Four,ignore.case = TRUE) & grepl("combustion",SCC.Level.One,ignore.case = TRUE))
View(sum_data)
coal_comb_sources <- SCC %>% filter(grepl("coal",SCC.Level.Four,ignore.case = TRUE) & grepl("combustion",SCC.Level.One,ignore.case = TRUE))
coal_comb_sources$SCC
coal_comb_sources <- SCC %>% filter(grepl("coal",SCC.Level.Four,ignore.case = TRUE) & grepl("combustion",SCC.Level.One,ignore.case = TRUE))
sum_data <- NEI %>% filter(SCC==coal_comb_sources$SCC) %>% group_by(year) %>% summarise(Emissions = sum(Emissions))
View(sum_data)
View(SCC)
View(NEI)
sum_data <- NEI %>% filter(SCC==coal_comb_sources$SCC) %>% group_by(year) %>% summarise(Emissions = sum(Emissions))
library(dplyr)
library(ggplot2)
coal_comb_sources <- SCC %>% filter(grepl("coal",SCC.Level.Four,ignore.case = TRUE) & grepl("combustion",SCC.Level.One,ignore.case = TRUE))
sum_data <- NEI %>% filter(SCC==coal_comb_sources$SCC) %>% group_by(year) %>% summarise(Emissions = sum(Emissions))
sum_data <- NEI %>% filter(SCC=coal_comb_sources$SCC) %>% group_by(year) %>% summarise(Emissions = sum(Emissions))
sum_data <- NEI %>% filter(SCC==coal_comb_sources$SCC) %>% group_by(year) %>% summarise(Emissions = sum(Emissions))
sum_data <- NEI %>% filter(SCC %in% coal_comb_sources$SCC) %>% group_by(year) %>% summarise(Emissions = sum(Emissions))
# Plotting
ggplot(sum_data, aes(Emissions)) +
geom_bar(position="dodge", stat="identity") +
labs(x = "Year", y = "Emissions (Ton)", title = "Baltimore City total PM2.5 emission by source")
# Plotting
ggplot(sum_data, aes(Emissions, year)) +
geom_bar(position="dodge", stat="identity") +
labs(x = "Year", y = "Emissions (Ton)", title = "Baltimore City total PM2.5 emission by source")
# Plotting
ggplot(sum_data, aes(y = Emissions, x= year)) +
geom_bar(position="dodge", stat="identity") +
labs(x = "Year", y = "Emissions (Ton)", title = "Baltimore City total PM2.5 emission by source")
# Plotting
ggplot(sum_data, aes(y = Emissions, x= year)) +
geom_bar(position="dodge", stat="identity") +
labs(x = "Year", y = "Emissions (Ton)", title = "Baltimore City total PM2.5 emission by source") +
scale_x_continuous(breaks = seq(1999, 2008, 3))
# Plotting
ggplot(sum_data, aes(y = Emissions, x= year)) +
geom_line(position="dodge", stat="identity") +
labs(x = "Year", y = "Emissions (Ton)", title = "Baltimore City total PM2.5 emission by source") +
scale_x_continuous(breaks = seq(1999, 2008, 3))
# Plotting
ggplot(sum_data, aes(y = Emissions, x= year)) +
geom_line() +
labs(x = "Year", y = "Emissions (Ton)", title = "Baltimore City total PM2.5 emission by source") +
scale_x_continuous(breaks = seq(1999, 2008, 3))
# Plotting
ggplot(sum_data, aes(y = Emissions, x= year)) +
geom_line() +
guides(fill=FALSE) +
labs(x = "Year", y = "Emissions (Ton)", title = "Baltimore City total PM2.5 emission by source") +
scale_x_continuous(breaks = seq(1999, 2008, 3))
# Plotting
ggplot(sum_data, aes(y = Emissions, x= year)) +
geom_line() +
labs(x = "Year", y = "Emissions (Ton)", title = "Baltimore City total PM2.5 emission by source") +
scale_x_continuous(breaks = seq(1999, 2008, 3))
?geom_line
# Plotting
ggplot(sum_data, aes(y = Emissions, x= year)) +
geom_line() +
labs(x = "Year", y = "Emissions (Ton)", title = "PM2.5 coal combustion related source emissions across US [1999-2008]") +
scale_x_continuous(breaks = seq(1999, 2008, 3))
library(dplyr)
library(ggplot2)
coal_comb_sources <- SCC %>% filter(grepl("coal", SCC.Level.Four, ignore.case = TRUE) & grepl("combustion", SCC.Level.One, ignore.case = TRUE))
sum_data <- NEI %>% filter(SCC %in% coal_comb_sources$SCC) %>% group_by(year) %>% summarise(Emissions = sum(Emissions))
# Open PNG device
png("Plots/plot4.png", width = 480, height = 480)
# Plotting
ggplot(sum_data, aes(y = Emissions, x= year)) +
geom_line() +
labs(x = "Year", y = "Emissions (Ton)", title = "PM2.5 coal combustion related source emissions across US [1999-2008]") +
scale_x_continuous(breaks = seq(1999, 2008, 3))
dev.off()
coal_comb_sources <- SCC %>% filter(grepl("coal", SCC.Level.Four, ignore.case = TRUE) & grepl("combustion", SCC.Level.One, ignore.case = TRUE))
sum_data <- NEI %>% filter(SCC %in% coal_comb_sources$SCC) %>%
group_by(year) %>%
summarise(Emissions = sum(Emissions))
# Open PNG device
png("Plots/plot4.png", width = 480, height = 480)
# Plotting
ggplot(sum_data, aes(y = Emissions, x= year)) +
geom_line() +
labs(x = "Year", y = "Emissions (Ton)", title = "PM2.5 coal combustion related source emissions across US [1999-2008]") +
scale_x_continuous(breaks = seq(1999, 2008, 3))
dev.off()
# Plotting
ggplot(sum_data, aes(y = Emissions, x= year)) +
geom_line() +
labs(x = "Year", y = "Emissions (Ton)", title = "PM2.5 coal combustion related source emissions across US [1999-2008]") +
scale_x_continuous(breaks = seq(1999, 2008, 3))
sum_data <- NEI %>% filter(fips=="24510") %>% group_by(type,year) %>% summarise(Emissions = sum(Emissions))
# Plotting
ggplot(sum_data, aes(fill=type,x=as.character(year),y=Emissions)) +
geom_bar(position="dodge", stat="identity") +
labs(x = "Year", y = "Emissions (Ton)", title = "Baltimore City total PM2.5 emission by source")
# Plotting
ggplot(sum_data, aes(fill=type,x=as.character(year),y=Emissions)) +
geom_line() +
labs(x = "Year", y = "Emissions (Ton)", title = "Baltimore City total PM2.5 emission by source")
# Plotting
ggplot(sum_data, aes(colour = type, x = as.character(year), y = Emissions)) +
geom_line() +
labs(x = "Year", y = "Emissions (Ton)", title = "Baltimore City total PM2.5 emission by source")
# Plotting
ggplot(sum_data, aes(colour = type, x = year, y = Emissions)) +
geom_line() +
labs(x = "Year", y = "Emissions (Ton)", title = "Baltimore City total PM2.5 emission by source")
# Plotting
ggplot(sum_data, aes(colour = type, x = year, y = Emissions)) +
geom_line() +
labs(x = "Year", y = "Emissions (Ton)", title = "Baltimore City total PM2.5 emission by source") +
scale_x_continuous(breaks = seq(1999, 2008, 3))
# Open PNG device
png("Plots/plot3.png", width = 480, height = 480)
# Plotting
ggplot(sum_data, aes(colour = type, x = year, y = Emissions)) +
geom_line() +
labs(x = "Year", y = "Emissions (Ton)", title = "Baltimore City total PM2.5 emission by source") +
scale_x_continuous(breaks = seq(1999, 2008, 3))
dev.off()
# Plotting
ggplot(sum_data, aes(colour = type, x = year, y = Emissions)) +
geom_line() +
labs(x = "Year", y = "Emissions (Ton)", title = "Baltimore City total PM2.5 emission by source") +
scale_x_continuous(breaks = seq(1999, 2008, 3))
# Plotting
ggplot(sum_data, aes(y = Emissions, x= year)) +
geom_line() +
labs(x = "Year", y = "Emissions (Ton)", title = "PM2.5 coal combustion related source emissions across US [1999-2008]") +
scale_x_continuous(breaks = seq(1999, 2008, 3))
coal_comb_sources <- SCC %>% filter(grepl("coal", SCC.Level.Four, ignore.case = TRUE) & grepl("combustion", SCC.Level.One, ignore.case = TRUE))
sum_data <- NEI %>% filter(SCC %in% coal_comb_sources$SCC) %>%
group_by(year) %>%
summarise(Emissions = sum(Emissions))
# Plotting
ggplot(sum_data, aes(y = Emissions, x= year)) +
geom_line() +
labs(x = "Year", y = "Emissions (Ton)", title = "PM2.5 coal combustion related source emissions across US [1999-2008]") +
scale_x_continuous(breaks = seq(1999, 2008, 3))
sum_data <- NEI %>% filter(fips=="24510") %>% group_by(year) %>% summarise(Emissions = sum(Emissions))
# Plotting
with(sum_data,barplot(Emissions, names.arg = year, xlab = "Year", ylab = "Emissions (Ton)", main = "Baltimore City total PM2.5 emission from all sources"))
sum_data <- NEI %>% filter(fips=="24510") %>% group_by(type,year) %>% summarise(Emissions = sum(Emissions))
# Open PNG device
png("Plots/plot3.png", width = 480, height = 480)
# Plotting
ggplot(sum_data, aes(colour = type, x = year, y = Emissions)) +
geom_line() +
labs(x = "Year", y = "Emissions (Ton)", title = "PM2.5 emissions for Baltimore City [1999-2008]") +
scale_x_continuous(breaks = seq(1999, 2008, 3))
dev.off()
# Plotting
ggplot(sum_data, aes(colour = type, x = year, y = Emissions)) +
geom_line() +
labs(x = "Year", y = "Emissions (Ton)", title = "PM2.5 emissions for Baltimore City [1999-2008]") +
scale_x_continuous(breaks = seq(1999, 2008, 3))
# Plotting
ggplot(sum_data, aes(colour = type, x = year, y = Emissions)) +
geom_line() +
labs(x = "Year", y = "Emissions (Ton)", title = "PM2.5 emissions for Baltimore City by source [1999-2008]") +
scale_x_continuous(breaks = seq(1999, 2008, 3))
# Open PNG device
png("Plots/plot3.png", width = 480, height = 480)
# Plotting
ggplot(sum_data, aes(colour = type, x = year, y = Emissions)) +
geom_line() +
labs(x = "Year", y = "Emissions (Ton)", title = "PM2.5 emissions for Baltimore City by source [1999-2008]") +
scale_x_continuous(breaks = seq(1999, 2008, 3))
dev.off()
sum_data <- NEI %>% filter(fips=="24510") %>% group_by(year) %>% summarise(Emissions = sum(Emissions))
# Plotting
with(sum_data,barplot(Emissions, names.arg = year, xlab = "Year", ylab = "Emissions (Ton)", main = "Baltimore City total PM2.5 emission from all sources"))
# Open PNG device
png("Plots/plot2.png", width = 480, height = 480)
# Plotting
with(sum_data,barplot(Emissions, names.arg = year, xlab = "Year", ylab = "Emissions (Ton)", main = "PM2.5 emissions for Baltimore City [1999-2008]"))
dev.off()
# Plotting
with(sum_data,barplot(Emissions, names.arg = year, xlab = "Year", ylab = "Emissions (Ton)", main = "PM2.5 emissions for Baltimore City [1999-2008]"))
sum_data <- NEI %>% group_by(year) %>% summarise(Emissions = sum(Emissions))
# Plotting
with(sum_data,barplot(Emissions, names.arg = year, xlab = "Year", ylab = "Emissions (Ton)", main = "US total PM2.5 emission from all sources"))
# Plotting
with(sum_data,barplot(Emissions, names.arg = year, xlab = "Year", ylab = "Emissions (Ton)", main = "PM2.5 emissions for US [1999-2008]"))
# Open PNG device
png("Plots/plot1.png", width = 480, height = 480)
# Plotting
with(sum_data,barplot(Emissions, names.arg = year, xlab = "Year", ylab = "Emissions (Ton)", main = "PM2.5 emissions for US [1999-2008]"))
dev.off()
View(SCC)
grepl("vehicle",SCC)
grepl("vehicle",SCC,ignore.case = TRUE)
vehicle_sources <- SCC %>% filter(SCC.Level.One=="Mobile Sources")
sum_data <- NEI %>% filter(SCC %in% vehicle_sources$SCC) %>% group_by(year) %>% summarise(Emissions = sum(Emissions))
View(sum_data)
# Plotting
with(sum_data,barplot(Emissions, names.arg = year, xlab = "Year", ylab = "Emissions (Ton)", main = "PM2.5 emissions for Baltimore City [1999-2008]"))
# Plotting
with(sum_data,barplot(Emissions, names.arg = year, xlab = "Year", ylab = "Emissions (Ton)", main = "PM2.5 coal combustion related source emissions for Baltimore City [1999-2008]"))
# Plotting
with(sum_data,barplot(Emissions, names.arg = year, xlab = "Year", ylab = "Emissions (Ton)", main = "PM2.5 vehicle emissions for Baltimore City [1999-2008]"))
vehicle_sources <- SCC %>% filter(SCC.Level.One=="Mobile Sources")
sum_data <- NEI %>% filter(SCC %in% vehicle_sources$SCC & fips=="24510") %>% group_by(year) %>% summarise(Emissions = sum(Emissions))
# Plotting
with(sum_data,barplot(Emissions, names.arg = year, xlab = "Year", ylab = "Emissions (Ton)", main = "PM2.5 vehicle emissions for Baltimore City [1999-2008]"))
# Plotting
ggplot(sum_data, aes(y = Emissions, x= year)) +
geom_line() +
labs(x = "Year", y = "Emissions (Ton)", title = "PM2.5 vehicle emissions for Baltimore City [1999-2008]") +
scale_x_continuous(breaks = seq(1999, 2008, 3))
# Plotting
ggplot(sum_data, aes(y = Emissions, x= year)) +
geom_bar() +
labs(x = "Year", y = "Emissions (Ton)", title = "PM2.5 vehicle emissions for Baltimore City [1999-2008]") +
scale_x_continuous(breaks = seq(1999, 2008, 3))
line
# Plotting
ggplot(sum_data, aes(y = Emissions, x= year)) +
geom_line() +
labs(x = "Year", y = "Emissions (Ton)", title = "PM2.5 vehicle emissions for Baltimore City [1999-2008]") +
scale_x_continuous(breaks = seq(1999, 2008, 3))
View(vehicle_sources)
View(sum_data)
sum_data <- NEI %>% filter(SCC %in% vehicle_sources$SCC & fips=="24510")
vehicle_sources <- SCC %>% filter(grep("vehicle",Short.Name))
vehicle_sources <- SCC %>% filter(grep("vehicle",Short.Name,ignore.case = TRUE))
vehicle_sources <- SCC %>% filter(grepl("vehicle",Short.Name,ignore.case = TRUE))
View(vehicle_sources)
View(NEI)
View(SCC)
paste(c(1,2),c(1,b))
paste(c(1,2),c(1,"b"))
paste(c(1,2),c(1,"b"), sep = "-")
names(SCC)
paste(SCC[,7:10])
paste(SCC$SCC.Level.One, SCC$SCC.Level.Two, sep = "-")
vehicle_sources <- SCC %>% filter(grepl("vehicle", paste(SCC.Level.One, SCC.Level.Two, SCC.Level.Three, SCC.Level.Four, sep = "-"), ignore.case = TRUE))
sum_data <- NEI %>% filter(SCC %in% vehicle_sources$SCC & fips=="24510") %>% group_by(year) %>% summarise(Emissions = sum(Emissions))
# Plotting
ggplot(sum_data, aes(y = Emissions, x= year)) +
geom_line() +
labs(x = "Year", y = "Emissions (Ton)", title = "PM2.5 vehicle emissions for Baltimore City [1999-2008]") +
scale_x_continuous(breaks = seq(1999, 2008, 3))
# Open PNG device
png("Plots/plot5.png", width = 480, height = 480)
# Plotting
ggplot(sum_data, aes(y = Emissions, x= year)) +
geom_line() +
labs(x = "Year", y = "Emissions (Ton)", title = "PM2.5 vehicle emissions for Baltimore City [1999-2008]") +
scale_x_continuous(breaks = seq(1999, 2008, 3))
dev.off()
vehicle_sources <- SCC %>% filter(grepl("vehicle", paste(SCC.Level.One, SCC.Level.Two, SCC.Level.Three, SCC.Level.Four, sep = "-"), ignore.case = TRUE))
sum_data <- NEI %>% filter(SCC %in% vehicle_sources$SCC & fips %in% c("24510","06037")) %>% group_by(year) %>% summarise(Emissions = sum(Emissions))
head(NIE)
head(NEI)
sum_data <- NEI %>% filter(SCC %in% vehicle_sources$SCC & fips %in% c("24510","06037")) %>% group_by(fips,year) %>% summarise(Emissions = sum(Emissions))
View(sum_data)
# Plotting
ggplot(sum_data, aes(y = Emissions, x= year, color = fips)) +
geom_line() +
labs(x = "Year", y = "Emissions (Ton)", title = "PM2.5 vehicle emissions for Baltimore City [1999-2008]") +
scale_x_continuous(breaks = seq(1999, 2008, 3))
# Plotting
ggplot(sum_data, aes(y = Emissions, x= year, color = fips)) +
geom_line() +
labs(x = "Year", y = "Emissions (Ton)", title = "PM2.5 vehicle emissions for Baltimore City and Los Angeles[1999-2008]") +
scale_x_continuous(breaks = seq(1999, 2008, 3))
# Open PNG device
png("Plots/plot6.png", width = 480, height = 480)
# Plotting
ggplot(sum_data, aes(y = Emissions, x= year, color = fips)) +
geom_line() +
labs(x = "Year", y = "Emissions (Ton)", title = "PM2.5 vehicle emissions for Baltimore City and Los Angeles[1999-2008]") +
scale_x_continuous(breaks = seq(1999, 2008, 3))
dev.off()
# Plotting
ggplot(sum_data, aes(y = Emissions, x= year, color = fips)) +
geom_line() +
labs(x = "Year", y = "Emissions (Ton)", title = "PM2.5 vehicle emissions for Baltimore City and Los Angeles [1999-2008]") +
scale_x_continuous(breaks = seq(1999, 2008, 3)) +
scale_fill_discrete(name="County",
labels=c("Los Angeles", "Baltimore"))
# Plotting
ggplot(sum_data, aes(y = Emissions, x= year, color = fips)) +
geom_line() +
labs(x = "Year", y = "Emissions (Ton)", title = "PM2.5 vehicle emissions for Baltimore City and Los Angeles [1999-2008]", color ="County") +
scale_x_continuous(breaks = seq(1999, 2008, 3)) +
scale_fill_discrete(name="County",
labels=c("Los Angeles", "Baltimore"))
# Plotting
ggplot(sum_data, aes(y = Emissions, x= year, color = fips)) +
geom_line() +
labs(x = "Year", y = "Emissions (Ton)", title = "PM2.5 vehicle emissions for Baltimore City and Los Angeles [1999-2008]", color ="County") +
scale_x_continuous(breaks = seq(1999, 2008, 3)) +
scale_color_manual(labels = c("Los Angeles", "Baltimore"), values = c("24510","06037"))
library(dplyr)
vehicle_sources <- SCC %>% filter(grepl("vehicle", paste(SCC.Level.One, SCC.Level.Two, SCC.Level.Three, SCC.Level.Four, sep = "-"), ignore.case = TRUE))
sum_data <- NEI %>% filter(SCC %in% vehicle_sources$SCC & fips %in% c("24510","06037")) %>% group_by(fips,year) %>% summarise(Emissions = sum(Emissions))
# Open PNG device
png("Plots/plot6.png", width = 480, height = 480)
# Plotting
ggplot(sum_data, aes(y = Emissions, x= year, color = fips)) +
geom_line() +
labs(x = "Year", y = "Emissions (Ton)", title = "PM2.5 vehicle emissions in Baltimore City and Los Angeles [1999-2008]", color ="County") +
scale_x_continuous(breaks = seq(1999, 2008, 3)) +
scale_color_manual(labels = c("Los Angeles", "Baltimore"), values = c("24510","06037"))
dev.off()
# Plotting
ggplot(sum_data, aes(y = Emissions, x= year, color = fips)) +
geom_line() +
labs(x = "Year", y = "Emissions (Ton)", title = "PM2.5 vehicle emissions in Baltimore City and Los Angeles [1999-2008]", color ="County") +
scale_x_continuous(breaks = seq(1999, 2008, 3)) +
scale_color_manual(labels = c("Los Angeles", "Baltimore"), values = c("24510","06037"))
library(dplyr)
vehicle_sources <- SCC %>% filter(grepl("vehicle", paste(SCC.Level.One, SCC.Level.Two, SCC.Level.Three, SCC.Level.Four, sep = "-"), ignore.case = TRUE))
sum_data <- NEI %>% filter(SCC %in% vehicle_sources$SCC & fips=="24510") %>% group_by(year) %>% summarise(Emissions = sum(Emissions))
# Open PNG device
png("Plots/plot5.png", width = 480, height = 480)
# Plotting
ggplot(sum_data, aes(y = Emissions, x= year)) +
geom_line() +
labs(x = "Year", y = "Emissions (Ton)", title = "PM2.5 vehicle emissions in Baltimore City [1999-2008]") +
scale_x_continuous(breaks = seq(1999, 2008, 3))
dev.off()
# Plotting
ggplot(sum_data, aes(y = Emissions, x= year)) +
geom_line() +
labs(x = "Year", y = "Emissions (Ton)", title = "PM2.5 vehicle emissions in Baltimore City [1999-2008]") +
scale_x_continuous(breaks = seq(1999, 2008, 3))
# Plotting
ggplot(sum_data, aes(y = Emissions, x= year)) +
geom_line() +
labs(x = "Year", y = "Emissions (Ton)", title = "PM2.5 vehicle emissions in Baltimore City [1999-2008]") +
scale_x_continuous(breaks = seq(1999, 2008, 3))
library(dplyr)
library(ggplot2)
coal_comb_sources <- SCC %>% filter(grepl("coal", SCC.Level.Four, ignore.case = TRUE) & grepl("combustion", SCC.Level.One, ignore.case = TRUE))
sum_data <- NEI %>% filter(SCC %in% coal_comb_sources$SCC) %>%
group_by(year) %>%
summarise(Emissions = sum(Emissions))
# Open PNG device
png("Plots/plot4.png", width = 480, height = 480)
# Plotting
ggplot(sum_data, aes(y = Emissions, x= year)) +
geom_line() +
labs(x = "Year", y = "Emissions (Ton)", title = "PM2.5 coal combustion related source emissions across US [1999-2008]") +
scale_x_continuous(breaks = seq(1999, 2008, 3))
dev.off()
# Plotting
ggplot(sum_data, aes(y = Emissions, x= year)) +
geom_line() +
labs(x = "Year", y = "Emissions (Ton)", title = "PM2.5 coal combustion related source emissions across US [1999-2008]") +
scale_x_continuous(breaks = seq(1999, 2008, 3))
# Plotting
ggplot(sum_data, aes(colour = type, x = year, y = Emissions)) +
geom_line() +
labs(x = "Year", y = "Emissions (Ton)", title = "PM2.5 emissions in Baltimore City [1999-2008]") +
scale_x_continuous(breaks = seq(1999, 2008, 3))
library(dplyr)
library(ggplot2)
sum_data <- NEI %>% filter(fips=="24510") %>% group_by(type,year) %>% summarise(Emissions = sum(Emissions))
# Open PNG device
png("Plots/plot3.png", width = 480, height = 480)
# Plotting
ggplot(sum_data, aes(colour = type, x = year, y = Emissions)) +
geom_line() +
labs(x = "Year", y = "Emissions (Ton)", title = "PM2.5 emissions in Baltimore City [1999-2008]") +
scale_x_continuous(breaks = seq(1999, 2008, 3))
dev.off()
# Plotting
ggplot(sum_data, aes(colour = type, x = year, y = Emissions)) +
geom_line() +
labs(x = "Year", y = "Emissions (Ton)", title = "PM2.5 emissions in Baltimore City [1999-2008]") +
scale_x_continuous(breaks = seq(1999, 2008, 3))
library(dplyr)
sum_data <- NEI %>% filter(fips=="24510") %>% group_by(year) %>% summarise(Emissions = sum(Emissions))
# Open PNG device
png("Plots/plot2.png", width = 480, height = 480)
# Plotting
with(sum_data,barplot(Emissions, names.arg = year, xlab = "Year", ylab = "Emissions (Ton)", main = "PM2.5 emissions in Baltimore City [1999-2008]"))
dev.off()
# Plotting
with(sum_data,barplot(Emissions, names.arg = year, xlab = "Year", ylab = "Emissions (Ton)", main = "PM2.5 emissions in Baltimore City [1999-2008]"))
library(dplyr)
sum_data <- NEI %>% group_by(year) %>% summarise(Emissions = sum(Emissions))
# Open PNG device
png("Plots/plot1.png", width = 480, height = 480)
# Plotting
with(sum_data,barplot(Emissions, names.arg = year, xlab = "Year", ylab = "Emissions (Ton)", main = "PM2.5 emissions for US [1999-2008]"))
dev.off()
# Plotting
with(sum_data,barplot(Emissions, names.arg = year, xlab = "Year", ylab = "Emissions (Ton)", main = "PM2.5 emissions for US [1999-2008]"))
# Plotting
with(sum_data,barplot(Emissions, names.arg = year, xlab = "Year", ylab = "Emissions (Ton)", main = "PM2.5 emissions in US [1999-2008]"))
library(dplyr)
sum_data <- NEI %>% group_by(year) %>% summarise(Emissions = sum(Emissions))
# Open PNG device
png("Plots/plot1.png", width = 480, height = 480)
# Plotting
with(sum_data,barplot(Emissions, names.arg = year, xlab = "Year", ylab = "Emissions (Ton)", main = "PM2.5 emissions in US [1999-2008]"))
dev.off()
# Plotting
with(sum_data,barplot(Emissions, names.arg = year, xlab = "Year", ylab = "Emissions (Ton)", main = "PM2.5 emissions in US [1999-2008]"))
NEI <- readRDS("summarySCC_PM25.rds")
SCC <- readRDS("Source_Classification_Code.rds")
sumdata <- aggregate(NEI$Emissions, by=list(year=NEI$year), FUN=sum)
png("plot1.png",width = 480, height = 480)
plot(sumdata,col="red",main="Total PM2.5 emission",ylab="Emissions", xlab="Year",pch =20,cex = 2)
dev.off()
NEI <- readRDS("summarySCC_PM25.rds")
SCC <- readRDS("Source_Classification_Code.rds")
sumdata <- aggregate(NEI$Emissions, by=list(year=NEI$year), FUN=sum)
png("plot1.png",width = 480, height = 480)
plot(sumdata,col="red",main="Total PM2.5 emission",ylab="Emissions", xlab="Year",pch =20,cex = 2)
dev.off()
coal_comb_sources <- SCC %>% filter(grepl("coal", SCC.Level.Four, ignore.case = TRUE) & grepl("combustion", SCC.Level.One, ignore.case = TRUE))
sum_data <- NEI %>% filter(SCC %in% coal_comb_sources$SCC) %>%
group_by(year) %>%
summarise(Emissions = sum(Emissions))
# Plotting
ggplot(sum_data, aes(y = Emissions, x= year)) +
geom_line() +
labs(x = "Year", y = "Emissions (Ton)", title = "PM2.5 coal combustion related source emissions across US [1999-2008]") +
scale_x_continuous(breaks = seq(1999, 2008, 3))
coal_comb_sources <- SCC %>% filter(grepl("Coal", SCC.Level.Four) & grepl("combustion", SCC.Level.One, ignore.case = TRUE))
sum_data <- NEI %>% filter(SCC %in% coal_comb_sources$SCC) %>%
group_by(year) %>%
summarise(Emissions = sum(Emissions))
# Plotting
ggplot(sum_data, aes(y = Emissions, x= year)) +
geom_line() +
labs(x = "Year", y = "Emissions (Ton)", title = "PM2.5 coal combustion related source emissions across US [1999-2008]") +
scale_x_continuous(breaks = seq(1999, 2008, 3))
coal_comb_sources <- SCC %>% filter(grepl("coal", SCC.Level.Four, ignore.case = TRUE) & grepl("combustion", SCC.Level.One, ignore.case = TRUE))
sum_data <- NEI %>% filter(SCC %in% coal_comb_sources$SCC) %>%
group_by(year) %>%
summarise(Emissions = sum(Emissions))
# Open PNG device
png("Plots/plot4.png", width = 480, height = 480)
# Plotting
ggplot(sum_data, aes(y = Emissions, x= year)) +
geom_line() +
labs(x = "Year", y = "Emissions (Ton)", title = "PM2.5 coal combustion related source emissions across US [1999-2008]") +
scale_x_continuous(breaks = seq(1999, 2008, 3))
dev.off()
# Plotting
ggplot(sum_data, aes(y = Emissions, x= year)) +
geom_line() +
labs(x = "Year", y = "Emissions (Ton)", title = "PM2.5 coal combustion related source emissions across US [1999-2008]") +
scale_x_continuous(breaks = seq(1999, 2008, 3))
library(dplyr)
sum_data <- NEI %>% filter(fips=="24510") %>% group_by(year) %>% summarise(Emissions = sum(Emissions))
# Open PNG device
png("Plots/plot2.png", width = 480, height = 480)
# Plotting
with(sum_data,barplot(Emissions, names.arg = year, xlab = "Year", ylab = "Emissions (Ton)", main = "PM2.5 emissions in Baltimore City [1999-2008]"))
dev.off()
# Plotting
with(sum_data,barplot(Emissions, names.arg = year, xlab = "Year", ylab = "Emissions (Ton)", main = "PM2.5 emissions in Baltimore City [1999-2008]"))
